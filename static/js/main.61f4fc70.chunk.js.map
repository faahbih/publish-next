{"version":3,"sources":["assets/img/restore-logo.png","assets/img/bmu-logo.png","assets/img/arrow_upward-black-18dp.svg","assets/img/arrow_downward-black-18dp.svg","assets/img/8x8-00000000.png","serviceWorker.ts","containers/Types.ts","store/index.tsx","components/Legend/index.tsx","components/Report/index.tsx","components/Temporal/index.tsx","store/utils.tsx","components/Leaflet/feature.service.ts","components/Leaflet/icons.ts","components/Leaflet/index.tsx","layouts/Main/index.tsx","layouts/Sidebar/SidebarList.tsx","components/Resume/index.tsx","components/SideContent/SideChip.tsx","components/SideContent/SideChipList.tsx","components/SideContent/index.tsx","layouts/Sidebar/index.tsx","layouts/App/index.tsx","index.tsx"],"names":["module","exports","Boolean","window","location","hostname","match","ViewType","TimelineOption","initialState","currentScenario","currentAttribute","currentBorder","currentBackground","currentYear","mapTooltipsEnabled","currentTimelineOption","ABSOLUTE","views","reducer","state","action","type","newStateAddView","view","visible","SCENARIO","name","ATTRIBUTE","BORDER","BACKGROUND","newViews","map","viewType","newState","viewActive","find","undefined","data","year","option","enabled","createContainer","useReducer","Provider","useTrackedState","useDispatch","useUpdate","useStyles","makeStyles","theme","createStyles","root","width","position","right","top","zIndex","breakpoints","down","maxWidth","cardHeader","padding","background","color","textTransform","fontSize","fontWeight","letterSpacing","title","display","justifyContent","marginBottom","Legend","mapProperties","classes","values","Object","keys","value","sort","label","push","icon","fillColor","legendValuesFactory","hasValues","length","Card","className","CardHeader","CardContent","Typography","gutterBottom","key","Icon","style","chartDataFactory","datasetName","datasets","property","labels","F","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","N","Report","open","properties","onClose","React","useState","scroll","descriptionElementRef","useRef","datasetLabels","charts","scenariosNames","validLabels","axis","date","join","replace","forEach","scenarioName","startsWith","hasOwnProperty","scenario","object","x","y","propertyName","found","entry","datasetsFactory","selectedName","index","options","scales","xAxes","scaleLabel","labelString","yAxes","tooltips","mode","callbacks","tooltipItem","datasetIndex","yLabel","toFixed","useEffect","descriptionElement","current","focus","Dialog","fullWidth","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","dividers","variant","align","DialogActions","Button","onClick","bottom","left","slider","spacing","switch","marginLeft","content","alignItems","marginRight","margin","height","TempShadow","marks","TemporalSlider","withStyles","thumb","boxShadow","marginTop","active","valueLabel","track","rail","opacity","mark","markActive","Slider","Temporal","dispatch","sliderValue","setSliderValue","checkedA","checkedB","switchStateTimelineOption","setSwitchStateTimelineOption","buttonDisabled","setButtonDisabled","handleChangeSlider","event","newSliderValue","timeline","debounce","Number","debounceSlider","FormControlLabel","control","Switch","size","checked","onChange","target","DIFFERENCE","valueOf","IconButton","aria-label","disabled","indexMark","findIndex","sliderEvent","timelineInterval","setInterval","clearInterval","step","valueLabelDisplay","filter","scenarios","FC","NoFC","attributes","Cropland","Grassland","borders","backgrounds","FeatureService","Promise","resolve","firstVisible","isViewVisible","description","attribute","biomesLabels","brazilLabels","biomes","brazil","url","process","none","unshift","instance","iconPositive","L","iconUrl","require","iconSize","iconAnchor","iconNegative","iconEquals","defaultProperties","default","weight","fillOpacity","userDefinedProperties","lat","lng","zoom","Pampa","Pantanal","Amazonia","Caatinga","Cerrado","geoJSONStyle","feature","propertyValue","Leaflet","dialogOpen","setDialogOpen","featureSelected","setFeatureSelected","onEachFeature","layer","on","featureService","getInstance","getAttriburesBiomes","then","getScenarios","getBorders","getBackgrounds","Map","center","zoomControl","TileLayer","attribution","ZoomControl","GeoJSON","layers","geojson","features","geometry","coords","coordinates","attributesMapper","Soybean","fieldName","fieldValue","fieldResult","tooltipValue","iconSelected","Marker","Date","getTime","Math","random","Tooltip","direction","offset","permanent","loadAttributes","minZoom","maxZoom","tms","loadTileLayer","Main","SidebarList","List","buttonDefault","imgContent","flexDirection","imgBMULogo","imgLogo","contentDialogTitile","flexWrap","textAlign","Resume","src","Logo","alt","DialogContentText","ref","tabIndex","href","rel","BMULogo","SideChip","props","setActive","tooltip","arrow","Chip","newActive","styleOn","backgroundColorOnActive","border","getStyle","SideChipList","getBackgroundColor","handleClick","chip","cardContent","main","customAccordionSummary","customAccordionDetails","heading","typography","pxToRem","fontWeightMedium","chipSpacing","formControl","minWidth","SideContent","switchMapTooltip","setSwitchMapTooltip","Accordion","defaultExpanded","AccordionSummary","expandIcon","aria-controls","AccordionDetails","appBar","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","up","toolbar","mixins","flexGrow","contentInfo","contentInfoText","subtitle","download","link","textDecoration","Sidebar","useTheme","setOpen","resumeOpen","setResumeOpen","CssBaseline","AppBar","clsx","Toolbar","edge","Drawer","paper","Divider","App","createMuiTheme","palette","primary","secondary","ThemeProvider","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.61f4fc70.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/restore-logo.3f38353f.png\";","module.exports = __webpack_public_path__ + \"static/media/bmu-logo.d3e895f3.png\";","module.exports = __webpack_public_path__ + \"static/media/arrow_upward-black-18dp.83e7f40f.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow_downward-black-18dp.d5832549.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAD0lEQVR42mNkQAOMAyMAAALsAAmn8BA+AAAAAElFTkSuQmCC\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","export type MapProperties = {\n  lat: number;\n  lng: number;\n  zoom: number;\n  color: {\n    key: string;\n    value: {\n      [name: string]: {\n        color: string;\n        weight: number;\n        fillOpacity: number;\n        fillColor: string;\n      };\n    };\n  };\n};\n\nexport type LegendValue = {\n  icon: string;\n  fillColor: string;\n  label: string;\n};\n\nexport enum ViewType {\n  SCENARIO,\n  ATTRIBUTE,\n  BORDER,\n  BACKGROUND,\n}\n\nexport type View = {\n  name: string;\n  type: ViewType;\n  visible: boolean;\n  description: string;\n  url?: string;\n  data?: GeoJSON.GeoJsonObject;\n};\n\nexport enum TimelineOption {\n  ABSOLUTE = 'Absolute values',\n  DIFFERENCE = 'Difference to 2000',\n}\n","import { TimelineOption, View, ViewType } from 'containers/Types';\nimport { useReducer } from 'react';\nimport { createContainer } from 'react-tracked';\n\n// { [name: string]: any; } | null\nexport type State = {\n  currentScenario: string;\n  currentAttribute: string;\n  currentBorder: string;\n  currentBackground: string;\n  currentYear: number;\n  mapTooltipsEnabled: boolean;\n  currentTimelineOption: TimelineOption;\n  views: View[];\n};\n\ntype Action =\n  | { type: 'ADD_VIEW'; view: View }\n  | { type: 'TOGGLE_VIEW'; viewType: ViewType; name: string; visible: boolean }\n  | { type: 'SET_CURRENT_YEAR'; year: number }\n  | { type: 'SET_TIMELINE_OPTION'; option: TimelineOption }\n  | { type: 'SET_MAP_TOOLTIP'; enabled: boolean };\n\nconst initialState: State = {\n  currentScenario: '',\n  currentAttribute: '',\n  currentBorder: '',\n  currentBackground: '',\n  currentYear: 2000,\n  mapTooltipsEnabled: true,\n  currentTimelineOption: TimelineOption.ABSOLUTE,\n  views: [],\n};\n\nconst reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_VIEW':\n      const newStateAddView = {\n        ...state,\n        views: [...state.views, action.view],\n      };\n\n      if (action.view.visible) {\n        if (action.view.type === ViewType.SCENARIO) {\n          newStateAddView.currentScenario = action.view.name;\n        }\n\n        if (action.view.type === ViewType.ATTRIBUTE) {\n          newStateAddView.currentAttribute = action.view.name;\n        }\n\n        if (action.view.type === ViewType.BORDER) {\n          newStateAddView.currentBorder = action.view.name;\n        }\n\n        if (action.view.type === ViewType.BACKGROUND) {\n          newStateAddView.currentBackground = action.view.name;\n        }\n      }\n\n      return newStateAddView;\n    case 'TOGGLE_VIEW':\n      const resetViews = state.views.map((view) => {\n        if (view.type === action.viewType) {\n          return { ...view, visible: false };\n        }\n\n        return { ...view };\n      });\n\n      const newViews = resetViews.map((view) => {\n        if (view.type === action.viewType && view.name === action.name) {\n          return { ...view, visible: action.visible };\n        }\n\n        return { ...view };\n      });\n\n      const newState = { ...state };\n      const viewActive = newViews.find(\n        (view) => view.type === action.viewType && view.visible,\n      );\n      if (viewActive) {\n        if (viewActive.type === ViewType.SCENARIO) {\n          newState.currentScenario = viewActive.name;\n        }\n\n        if (viewActive.type === ViewType.ATTRIBUTE) {\n          newState.currentAttribute = viewActive.name;\n        }\n\n        if (viewActive.type === ViewType.BORDER) {\n          newState.currentBorder = viewActive.name;\n          newState.mapTooltipsEnabled =\n            viewActive.visible && viewActive.data !== undefined;\n        }\n\n        if (viewActive.type === ViewType.BACKGROUND) {\n          newState.currentBackground = viewActive.name;\n        }\n\n        newState.views = newViews;\n      }\n\n      return newState;\n    case 'SET_CURRENT_YEAR':\n      return {\n        ...state,\n        currentYear: action.year,\n      };\n    case 'SET_TIMELINE_OPTION':\n      return {\n        ...state,\n        currentTimelineOption: action.option,\n      };\n    case 'SET_MAP_TOOLTIP':\n      return {\n        ...state,\n        mapTooltipsEnabled: action.enabled,\n      };\n    default:\n      return state;\n  }\n};\n\nconst useValue = () => useReducer(reducer, initialState);\n\nexport const {\n  Provider,\n  useTrackedState,\n  useUpdate: useDispatch,\n} = createContainer(useValue);\n","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Icon from '@material-ui/core/Icon';\n// import './style.scss';\n\nimport { Typography } from '@material-ui/core';\nimport { LegendValue, MapProperties } from 'containers/Types';\n\ntype LegendProps = {\n  mapProperties: MapProperties;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: 272,\n      position: 'absolute',\n      right: '16px',\n      top: '70px',\n      zIndex: 1100,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: 180,\n      },\n    },\n    cardHeader: {\n      padding: '8px 16px',\n      background: '#212121',\n      color: 'white',\n      textTransform: 'uppercase',\n      '& span': {\n        fontSize: '16px',\n        fontWeight: 'bold',\n        letterSpacing: '.03em',\n      },\n    },\n    title: {\n      fontSize: 14,\n      display: 'flex',\n      justifyContent: 'center',\n      padding: '8px 0 0',\n      marginBottom: 0,\n    },\n  }),\n);\n\nfunction legendValuesFactory(mapProperties: MapProperties): LegendValue[] {\n  const values: LegendValue[] = [];\n\n  for (const label of Object.keys(mapProperties.color.value).sort()) {\n    const value = mapProperties.color.value[label];\n    values.push({\n      icon: 'fiber_manual_record',\n      fillColor: value.fillColor,\n      label,\n    });\n  }\n\n  return values;\n}\n\nexport default function Legend({ mapProperties }: LegendProps) {\n  const classes = useStyles();\n  const values = legendValuesFactory(mapProperties);\n  const hasValues = !values || !values.length;\n\n  return (\n    <Card className={classes.root}>\n      <CardHeader className={classes.cardHeader} title=\"Legend\" />\n      <CardContent>\n        {hasValues ? (\n          <Typography\n            className={classes.title}\n            color=\"textSecondary\"\n            gutterBottom\n          >\n            No layers selected\n          </Typography>\n        ) : (\n          <div className=\"Legend\">\n            {values.map((value: LegendValue) => (\n              <div className=\"Legend-content\" key={value.label}>\n                <Icon style={{ color: value.fillColor }}>{value.icon}</Icon>\n                <p className=\"Legend-text\">{value.label}</p>\n              </div>\n            ))}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","import React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog, { DialogProps } from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { Line } from 'react-chartjs-2';\nimport Typography from '@material-ui/core/Typography';\n\ntype ReportProps = {\n  open: boolean;\n  properties?: GeoJSON.GeoJsonProperties;\n  onClose: () => void;\n};\n\nfunction datasetsFactory(\n  properties: GeoJSON.GeoJsonProperties,\n  scenariosNames: string[],\n  validLabels: string[],\n  axis = 'vertical',\n) {\n  const datasets: any = {};\n\n  for (const key in properties) {\n    const value = properties[key];\n\n    let name = key;\n    const date = key.match(/\\d+/g)?.join('');\n    if (date) {\n      name = key.replace(date, '');\n\n      scenariosNames.forEach((scenarioName: string) => {\n        if (name.startsWith(scenarioName)) {\n          name = name.replace(scenarioName, '');\n\n          if (!datasets.hasOwnProperty(name)) {\n            datasets[name] = {};\n          }\n\n          const scenario: any = datasets[name];\n          if (!scenario.hasOwnProperty(scenarioName)) {\n            scenario[scenarioName] = {\n              object: [],\n            };\n          }\n\n          scenario[scenarioName].object.push({ x: date, y: value });\n        }\n      });\n    }\n  }\n\n  for (const propertyName in datasets) {\n    const property = datasets[propertyName];\n\n    for (const scenarioName in property) {\n      const scenario = property[scenarioName];\n      const object = scenario.object as { x: any; y: any }[];\n\n      scenario.labels = [];\n      scenario.data = [];\n      validLabels.forEach((label: string) => {\n        const found = object.find((entry: { x: any; y: any }) =>\n          axis === 'vertical' ? entry.x === label : entry.y === label,\n        );\n        if (found) {\n          const data = axis === 'vertical' ? found.y : found.x;\n          scenario.labels.push(label);\n          scenario.data.push(data);\n        }\n      });\n    }\n  }\n\n  return datasets;\n}\n\nfunction chartDataFactory(\n  datasetName: string,\n  datasets: { [name: string]: any },\n) {\n  const property = datasets[datasetName];\n  const labels = property.F.labels;\n  return {\n    labels,\n    datasets: [\n      {\n        label: 'FC',\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: 'rgba(0, 128, 0, 1)',\n        borderColor: 'rgba(0, 128, 0, 1)',\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(0, 128, 0, 1)',\n        pointBackgroundColor: 'rgba(0, 128, 0, 1)',\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(0, 128, 0, 1)',\n        pointHoverBorderColor: 'rgba(0, 128, 0, 1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: property.F.data,\n      },\n      {\n        label: 'NoFC',\n        fill: false,\n        lineTension: 0.1,\n        backgroundColor: 'rgba(235,75,53, 1)',\n        borderColor: 'rgba(235,75,53, 1)',\n        borderCapStyle: 'butt',\n        borderDash: [],\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderColor: 'rgba(235,75,53, 1)',\n        pointBackgroundColor: 'rgba(235,75,53, 1)',\n        pointBorderWidth: 1,\n        pointHoverRadius: 5,\n        pointHoverBackgroundColor: 'rgba(235,75,53, 1)',\n        pointHoverBorderColor: 'rgba(235,75,53, 1)',\n        pointHoverBorderWidth: 2,\n        pointRadius: 1,\n        pointHitRadius: 10,\n        data: property.N.data,\n      },\n    ],\n  };\n}\n\nfunction chartOptionsFactory() {\n  return {\n    scales: {\n      xAxes: [\n        {\n          scaleLabel: {\n            display: true,\n            labelString: 'Year',\n          },\n        },\n      ],\n      yAxes: [\n        {\n          scaleLabel: {\n            display: true,\n            labelString: 'Area (Mha)',\n          },\n        },\n      ],\n    },\n    tooltips: {\n      mode: 'label',\n      callbacks: {\n        label: function (tooltipItem: any, data: any) {\n          const label = data.datasets[tooltipItem.datasetIndex].label || '';\n          const value = tooltipItem.yLabel\n            .toFixed(2)\n            .replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n          return `${label}: ${value}`;\n        },\n      },\n    },\n  };\n}\n\nexport default function Report({ open, properties, onClose }: ReportProps) {\n  const [scroll] = React.useState<DialogProps['scroll']>('paper');\n  const descriptionElementRef = React.useRef<HTMLElement>(null);\n\n  const scenariosNames = ['N', 'F'];\n  const labels = [\n    '2000',\n    '2005',\n    '2010',\n    '2015',\n    '2020',\n    '2025',\n    '2030',\n    '2035',\n    '2040',\n    '2045',\n    '2050',\n  ];\n\n  const datasetNames = ['Soy', 'Crp', 'Grs', 'Nati', 'CNat'];\n  const datasetLabels = [\n    'Soybean',\n    'Cropland',\n    'Grassland',\n    'Native Vegetation',\n    'Native Vegetation Conversion',\n  ];\n\n  const charts: any = [];\n  if (properties) {\n    const datasets = datasetsFactory(properties, scenariosNames, labels);\n    datasetNames.forEach((selectedName: string, index: number) => {\n      const name = datasetLabels[index];\n      charts.push({\n        name,\n        data: chartDataFactory(selectedName, datasets),\n        options: chartOptionsFactory(),\n      });\n    });\n  }\n\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <Dialog\n      fullWidth={true}\n      maxWidth={'sm'}\n      open={open}\n      onClose={onClose}\n      scroll={scroll}\n      aria-labelledby=\"scroll-dialog-title\"\n      aria-describedby=\"scroll-dialog-description\"\n    >\n      <DialogTitle id=\"scroll-dialog-title\">{properties?.name}</DialogTitle>\n      <DialogContent dividers={scroll === 'paper'}>\n        {charts.map((entry: { name: string; data: any; options: any }) => {\n          return (\n            <div key={entry.name}>\n              <Typography\n                id=\"alert-dialog-title\"\n                variant=\"h6\"\n                gutterBottom\n                align=\"justify\"\n              >\n                {entry.name}\n              </Typography>\n              <Typography variant=\"caption\" display=\"block\" gutterBottom>\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil\n                ratione sit iusto voluptate excepturi ex nam reprehenderit\n                voluptatum est laboriosam corporis delectus ab placeat\n                assumenda, nobis sapiente quos, dolorem earum?\n              </Typography>\n              <Line data={entry.data} options={entry.options} />\n            </div>\n          );\n        })}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\">\n          OK\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from 'react';\nimport {\n  withStyles,\n  makeStyles,\n  Theme,\n  createStyles,\n} from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport {\n  Card,\n  FormControlLabel,\n  IconButton,\n  Switch,\n  Typography,\n} from '@material-ui/core';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport debounce from 'lodash.debounce';\nimport { useDispatch, useTrackedState } from 'store';\nimport { TimelineOption } from 'containers/Types';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      position: 'fixed',\n      zIndex: 1198,\n      display: 'flex',\n      bottom: '16px',\n      justifyContent: 'center',\n      [theme.breakpoints.down('xs')]: {\n        width: '100%',\n        left: 0,\n        bottom: 0,\n        zIndex: 1200,\n      },\n    },\n    slider: {\n      width: 500 + theme.spacing(3) * 2,\n      display: 'block',\n      background: '#fff',\n      padding: '8px 26px 0',\n    },\n    switch: {\n      marginLeft: '60px',\n      marginBottom: '2px',\n    },\n    content: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    icon: {\n      marginRight: '24px',\n    },\n    margin: {\n      height: theme.spacing(3),\n    },\n  }),\n);\n\nconst TempShadow =\n  '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)';\n\nconst marks = [\n  {\n    value: 0,\n    label: '2000',\n  },\n  {\n    value: 10,\n    label: '2005',\n  },\n  {\n    value: 20,\n    label: '2010',\n  },\n  {\n    value: 30,\n    label: '2015',\n  },\n  {\n    value: 40,\n    label: '2020',\n  },\n  {\n    value: 50,\n    label: '2025',\n  },\n  {\n    value: 60,\n    label: '2030',\n  },\n  {\n    value: 70,\n    label: '2035',\n  },\n  {\n    value: 80,\n    label: '2040',\n  },\n  {\n    value: 90,\n    label: '2045',\n  },\n  {\n    value: 100,\n    label: '2050',\n  },\n];\n\nconst TemporalSlider = withStyles({\n  root: {\n    color: '#757575',\n    height: 2,\n    padding: '16px 0',\n  },\n  thumb: {\n    height: 28,\n    width: 28,\n    backgroundColor: '#fff',\n    boxShadow: TempShadow,\n    marginTop: -14,\n    marginLeft: -14,\n    '&:focus, &:hover, &$active': {\n      boxShadow:\n        '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        boxShadow: TempShadow,\n      },\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50% + 12px)',\n    top: -18,\n    '& *': {\n      background: 'transparent',\n      color: '#000',\n    },\n  },\n  track: {\n    height: 2,\n  },\n  rail: {\n    height: 2,\n    opacity: 0.5,\n    backgroundColor: '#bfbfbf',\n  },\n  mark: {\n    backgroundColor: '#bfbfbf',\n    height: 8,\n    width: 1,\n    marginTop: -3,\n  },\n  markActive: {\n    opacity: 1,\n    backgroundColor: 'currentColor',\n  },\n})(Slider);\n\nexport default function Temporal() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n\n  const [sliderValue, setSliderValue] = React.useState<number | number[]>(0);\n  const [\n    switchStateTimelineOption,\n    setSwitchStateTimelineOption,\n  ] = React.useState({\n    checkedA: false,\n    checkedB: true,\n  });\n  const [buttonDisabled, setButtonDisabled] = React.useState<boolean>(false);\n\n  const handleChangeSwitchTimelineOption = (\n    event: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const checked = event.target.checked;\n    if (checked) {\n      dispatch({\n        type: 'SET_TIMELINE_OPTION',\n        option: TimelineOption.DIFFERENCE,\n      });\n    } else {\n      dispatch({\n        type: 'SET_TIMELINE_OPTION',\n        option: TimelineOption.ABSOLUTE,\n      });\n    }\n\n    setSwitchStateTimelineOption({\n      ...switchStateTimelineOption,\n      [event.target.name]: checked,\n    });\n  };\n\n  const getSwitchLabel = (): string => {\n    return state.currentTimelineOption.valueOf();\n  };\n\n  const handleClickPlay = () => {\n    setButtonDisabled(true);\n\n    const indexMark = marks.findIndex((mark) => mark.value === sliderValue);\n    if (indexMark > -1) {\n      let index = 0;\n\n      const sliderEvent = { timeline: true };\n      handleChangeSlider(sliderEvent, 0);\n\n      const timelineInterval = setInterval(() => {\n        const position = marks[index];\n        handleChangeSlider(sliderEvent, position.value);\n\n        index++;\n        if (index > indexMark) {\n          clearInterval(timelineInterval);\n          setButtonDisabled(false);\n        }\n      }, 500);\n    }\n  };\n\n  const handleChangeSlider = (\n    event: any,\n    newSliderValue: number | number[],\n  ) => {\n    if ((event && event.timeline) || sliderValue !== newSliderValue) {\n      setSliderValue(newSliderValue);\n\n      const debounceSlider = debounce(() => {\n        const mark = marks.find((mark) => mark.value === newSliderValue);\n        if (mark) {\n          dispatch({ type: 'SET_CURRENT_YEAR', year: Number(mark.label) });\n        }\n      }, 300);\n\n      debounceSlider();\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Card className={classes.slider}>\n        <Typography gutterBottom></Typography>\n\n        <FormControlLabel\n          className={classes.switch}\n          control={\n            <Switch\n              size=\"small\"\n              checked={switchStateTimelineOption.checkedA}\n              onChange={handleChangeSwitchTimelineOption}\n              name=\"checkedA\"\n              color=\"primary\"\n            />\n          }\n          label={getSwitchLabel()}\n        />\n\n        <div className={classes.content}>\n          <IconButton\n            aria-label=\"play\"\n            className={classes.icon}\n            disabled={buttonDisabled}\n            onClick={handleClickPlay}\n          >\n            <PlayArrowIcon />\n          </IconButton>\n          <TemporalSlider\n            aria-label=\"slider\"\n            value={sliderValue}\n            step={null}\n            marks={marks}\n            valueLabelDisplay=\"off\"\n            disabled={buttonDisabled}\n            onChange={handleChangeSlider}\n          />\n        </div>\n      </Card>\n    </div>\n  );\n}\n","import { State } from 'store';\nimport { View, ViewType } from 'containers/Types';\n\nexport const filter = (state: State, viewType: ViewType): View[] => {\n  return state.views.filter((view: View) => view.type === viewType);\n};\n\nexport const filterByName = (\n  state: State,\n  viewType: ViewType,\n  name: string,\n): View | undefined => {\n  return state.views.find(\n    (view: View) => view.type === viewType && view.name === name,\n  );\n};\n","import biomesLabels from 'assets/biomes-forest-code-labels.json';\nimport biomes from 'assets/biomes-forest-code.json';\nimport brazilLabels from 'assets/brazil-forest-code-labels.json';\nimport brazil from 'assets/brazil-forest-code.json';\nimport { View, ViewType } from 'containers/Types';\n\nconst scenarios: any = {\n  FC: `\n  Attempt to capture the future impacts of all key provisions of a\n  rigorously enforced Brazil's Forest Code\n  `,\n  NoFC: `Allow both legal and illegal deforestation at all times, which is\n  driven by the demand for agricultural commodities, and does not include\n  any policy restrictions`,\n};\n\nconst attributes: any = {\n  Cropland: `Planted areas with the following crops:\n  barley, dry beans, cassava, corn, cotton, groundnut, palm oil, potato,\n  rice, sorghum, soybeans, sugarcane, sweet potato, wheat`,\n  Grassland: 'Pasture areas used for livestock ranching',\n  'Native Vegetation': 'Native vegetation including rainforest and savannas',\n};\n\nconst borders: any = {\n  Biomes: 'Lorem',\n  Brazil: 'Lorem',\n};\n\nconst backgrounds: any = {\n  '1x1km': '1x1Km at Equator (Downscaling - DS)',\n  '50x50km': '50x50km at Equator (ColRow - CR)',\n  '200x200km': '200x200Km at Equator (Large Unit - LU)',\n};\n\nexport class FeatureService {\n  private static instance: FeatureService;\n\n  private constructor() {}\n\n  public static getInstance(): FeatureService {\n    if (!FeatureService.instance) {\n      FeatureService.instance = new FeatureService();\n    }\n\n    return FeatureService.instance;\n  }\n\n  public getScenarios(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      let firstVisible = true;\n      const views = Object.keys(scenarios).map((scenario) => {\n        const isViewVisible = firstVisible;\n        firstVisible = false;\n        return {\n          name: scenario,\n          type: ViewType.SCENARIO,\n          description: scenarios[scenario],\n          visible: isViewVisible,\n        };\n      });\n\n      resolve(views);\n    });\n  }\n\n  public getAttriburesBiomes(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      let firstVisible = true;\n      const views = Object.keys(attributes).map((attribute) => {\n        const isViewVisible = firstVisible;\n        firstVisible = false;\n        return {\n          name: attribute,\n          type: ViewType.ATTRIBUTE,\n          description: attributes[attribute],\n          visible: isViewVisible,\n          data: biomesLabels as GeoJSON.GeoJsonObject,\n        };\n      });\n\n      resolve(views);\n    });\n  }\n\n  public getAttributesBrazil(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      let firstVisible = true;\n      const views = Object.keys(attributes).map((attribute) => {\n        const isViewVisible = firstVisible;\n        firstVisible = false;\n        return {\n          name: attribute,\n          type: ViewType.ATTRIBUTE,\n          description: attributes[attribute],\n          visible: isViewVisible,\n          data: brazilLabels as GeoJSON.GeoJsonObject,\n        };\n      });\n\n      resolve(views);\n    });\n  }\n\n  public getBorders(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      const views = [\n        {\n          name: 'None',\n          type: ViewType.BORDER,\n          description: 'No data',\n          visible: false,\n        },\n        {\n          name: 'Biomes',\n          type: ViewType.BORDER,\n          description: borders['Biomes'],\n          visible: true,\n          data: biomes as GeoJSON.GeoJsonObject,\n        },\n        {\n          name: 'Brazil',\n          type: ViewType.BORDER,\n          description: borders['Brazil'],\n          visible: false,\n          data: brazil as GeoJSON.GeoJsonObject,\n        },\n      ];\n\n      resolve(views);\n    });\n  }\n\n  public getBackgrounds(): Promise<View[]> {\n    return new Promise((resolve: any) => {\n      const views = Object.keys(backgrounds).map((background) => {\n        return {\n          name: background,\n          type: ViewType.BACKGROUND,\n          description: backgrounds[background],\n          visible: false,\n          url: `${process.env.PUBLIC_URL}/wms/${background}/{z}/{x}/{y}.png`,\n        };\n      });\n\n      const none: any = {\n        name: 'None',\n        type: ViewType.BACKGROUND,\n        description: 'No data',\n        visible: true,\n      };\n\n      views.unshift(none);\n      resolve(views);\n    });\n  }\n}\n","import L from 'leaflet';\n\nconst iconPositive = new L.Icon({\n  iconUrl: require('../../assets/img/arrow_upward-black-18dp.svg'),\n  iconSize: [16, 16],\n  iconAnchor: [11, 8],\n});\n\nconst iconNegative = new L.Icon({\n  iconUrl: require('../../assets/img/arrow_downward-black-18dp.svg'),\n  iconSize: [16, 16],\n  iconAnchor: [11, 8],\n});\n\nconst iconEquals = new L.Icon({\n  iconUrl: require('../../assets/img/8x8-00000000.png'),\n  iconSize: [8, 8],\n  iconAnchor: [4, 0],\n});\n\nexport { iconPositive, iconNegative, iconEquals };\n","import Legend from 'components/Legend';\nimport Report from 'components/Report';\nimport Temporal from 'components/Temporal';\nimport {\n  MapProperties,\n  TimelineOption,\n  View,\n  ViewType,\n} from 'containers/Types';\nimport { Layer } from 'leaflet';\nimport React from 'react';\nimport {\n  GeoJSON,\n  Map,\n  Marker,\n  TileLayer,\n  Tooltip,\n  ZoomControl,\n} from 'react-leaflet';\nimport { useDispatch, useTrackedState } from 'store';\nimport { filter } from 'store/utils';\n\nimport { FeatureService } from './feature.service';\nimport { iconEquals, iconNegative, iconPositive } from './icons';\n\nimport brazilLabels from 'assets/brazil-forest-code-labels.json';\n\nconst defaultProperties = {\n  lat: -18.35143,\n  lng: -49.01675,\n  zoom: 4,\n  color: {\n    key: 'any',\n    value: {\n      default: {\n        color: '#1f2021',\n        weight: 1,\n        fillOpacity: 0.5,\n        fillColor: '#fff2af',\n      },\n    },\n  },\n} as MapProperties;\n\nconst userDefinedProperties = {\n  lat: -18.35143,\n  lng: -49.01675,\n  zoom: 4,\n  color: {\n    key: 'name',\n    value: {\n      'Atlantic Forest': {\n        color: defaultProperties.color.value.default.color,\n        weight: defaultProperties.color.value.default.weight,\n        fillOpacity: defaultProperties.color.value.default.fillOpacity,\n        fillColor: '#d7fcae',\n      },\n      Pampa: {\n        color: defaultProperties.color.value.default.color,\n        weight: defaultProperties.color.value.default.weight,\n        fillOpacity: defaultProperties.color.value.default.fillOpacity,\n        fillColor: '#fcefd4',\n      },\n      Pantanal: {\n        color: defaultProperties.color.value.default.color,\n        weight: defaultProperties.color.value.default.weight,\n        fillOpacity: defaultProperties.color.value.default.fillOpacity,\n        fillColor: '#ffe7ff',\n      },\n      Amazonia: {\n        color: defaultProperties.color.value.default.color,\n        weight: defaultProperties.color.value.default.weight,\n        fillOpacity: defaultProperties.color.value.default.fillOpacity,\n        fillColor: '#b2ff1b',\n      },\n      Caatinga: {\n        color: defaultProperties.color.value.default.color,\n        weight: defaultProperties.color.value.default.weight,\n        fillOpacity: defaultProperties.color.value.default.fillOpacity,\n        fillColor: '#feffb1',\n      },\n      Cerrado: {\n        color: defaultProperties.color.value.default.color,\n        weight: defaultProperties.color.value.default.weight,\n        fillOpacity: defaultProperties.color.value.default.fillOpacity,\n        fillColor: '#ffc6b2',\n      },\n    },\n  },\n} as MapProperties;\n\nfunction geoJSONStyle(feature?: GeoJSON.Feature) {\n  let style = defaultProperties.color.value.default;\n\n  if (feature) {\n    const properties = feature.properties as any;\n    const key = userDefinedProperties.color.key;\n    const value = userDefinedProperties.color.value;\n    if (properties.hasOwnProperty(key)) {\n      const propertyValue = properties[key];\n      if (value.hasOwnProperty(propertyValue)) {\n        style = value[propertyValue];\n      }\n    }\n  }\n\n  return style;\n}\n\nexport default function Leaflet() {\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  const [\n    featureSelected,\n    setFeatureSelected,\n  ] = React.useState<GeoJSON.Feature | null>(null);\n\n  const onEachFeature = (feature: GeoJSON.Feature, layer: Layer) => {\n    layer.on('click', () => {\n      setDialogOpen(true);\n      setFeatureSelected(feature);\n    });\n  };\n\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n  };\n\n  const loadGeoJSON = (views: View[]): JSX.Element[] => {\n    return views\n      .filter((view?: View) => view && view.data && view.visible)\n      .map((view?: View) => {\n        return (\n          <GeoJSON\n            key={view!.name}\n            data={view!.data!}\n            style={geoJSONStyle}\n            onEachFeature={onEachFeature}\n          />\n        );\n      });\n  };\n\n  const loadTileLayer = (views: View[]): JSX.Element[] => {\n    return views\n      .filter((view?: View) => view && view.url && view.visible)\n      .map((view?: View) => {\n        return (\n          <TileLayer\n            url={view!.url!}\n            opacity={1}\n            zIndex={3000}\n            minZoom={3}\n            maxZoom={4}\n            tms={false}\n            attribution='&copy; <a href=\"https://iopscience.iop.org/article/10.1088/1748-9326/aaccbb\" target=\"_blank\" rel=\"noopener noreferrer\">Soterroni et al. (2018)</a>'\n          />\n        );\n      });\n  };\n\n  const loadAttributes = (views: View[]): JSX.Element[] => {\n    const layers: JSX.Element[] = [];\n\n    views.forEach((view) => {\n      if (view && view.data && view.visible) {\n        let geojson = { ...view.data } as any;\n\n        // TODO deixar mais generico\n        if (state.currentBorder && state.currentBorder === 'Brazil') {\n          geojson = brazilLabels as GeoJSON.GeoJsonObject;\n        }\n\n        for (const feature of geojson.features) {\n          const properties = feature.properties;\n\n          const geometry = feature.geometry;\n          const lat = geometry.coordinates[1];\n          const lng = geometry.coordinates[0];\n          const coords: any = [lat, lng];\n\n          if (\n            state.mapTooltipsEnabled &&\n            state.currentScenario &&\n            state.currentAttribute &&\n            state.currentYear\n          ) {\n            const attributesMapper: any = {\n              Soybean: 'Soy',\n              Cropland: 'Crp',\n              Grassland: 'Grs',\n              'Native Vegetation': 'Nati',\n              'Native Vegetation Conversion': 'CNat',\n            };\n\n            if (attributesMapper.hasOwnProperty(state.currentAttribute)) {\n              const scenario = state.currentScenario[0];\n              const attribute = attributesMapper[state.currentAttribute];\n\n              const fieldName = `${scenario}${attribute}${state.currentYear}`;\n              const fieldValue = properties[fieldName];\n              const fieldResult = properties[`R${fieldName}`];\n\n              let tooltipValue = fieldValue\n                .toFixed(2)\n                .replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n\n              let iconSelected = iconEquals;\n\n              if (TimelineOption.DIFFERENCE === state.currentTimelineOption) {\n                const fieldDiff = Number(properties[`D${fieldName}`]);\n\n                tooltipValue = fieldDiff\n                  .toFixed(2)\n                  .replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n\n                if (fieldResult === 'positive') {\n                  iconSelected = iconPositive;\n                } else if (fieldResult === 'negative') {\n                  iconSelected = iconNegative;\n                }\n              }\n\n              layers.push(\n                <Marker\n                  key={new Date().getTime() + Math.random()}\n                  position={coords}\n                  icon={iconSelected}\n                >\n                  <Tooltip\n                    className={'marker-class-name'}\n                    direction={'right'}\n                    offset={[0, 0]}\n                    opacity={0.9}\n                    permanent\n                  >\n                    {`${tooltipValue} MHa`}\n                  </Tooltip>\n                </Marker>,\n              );\n            }\n          }\n        }\n      }\n    });\n\n    return layers;\n  };\n\n  React.useEffect(() => {\n    const featureService = FeatureService.getInstance();\n\n    featureService.getAttriburesBiomes().then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n\n    featureService.getScenarios().then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n\n    featureService.getBorders().then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n\n    featureService.getBackgrounds().then((views: View[]) => {\n      views.forEach((view: View) => dispatch({ type: 'ADD_VIEW', view }));\n    });\n  }, [dispatch]);\n\n  return (\n    <div>\n      <Map\n        id=\"mapId\"\n        center={userDefinedProperties}\n        zoom={userDefinedProperties.zoom}\n        zoomControl={false}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n\n        <ZoomControl position=\"bottomright\" />\n\n        {loadGeoJSON(filter(state, ViewType.BORDER))}\n        {loadAttributes(filter(state, ViewType.ATTRIBUTE))}\n        {loadTileLayer(filter(state, ViewType.BACKGROUND))}\n      </Map>\n      <Legend mapProperties={userDefinedProperties} />\n      <Report\n        open={dialogOpen}\n        properties={featureSelected?.properties}\n        onClose={handleDialogClose}\n      />\n      <Temporal></Temporal>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport Leaflet from 'components/Leaflet';\n\nexport default function Main() {\n  return (\n    <div>\n      <Leaflet />\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { List } from '@material-ui/core';\n// import LayersIcon from '@material-ui/icons/Layers';\n// import MapIcon from '@material-ui/icons/Map';\n\n// import SidebarItem from './SidebarItem';\n\nexport default function SidebarList() {\n  return (\n    <List>\n      {/* <SidebarItem text=\"Views\" icon={LayersIcon}></SidebarItem>\n      <SidebarItem text=\"Legend\" icon={MapIcon}></SidebarItem> */}\n    </List>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog, { DialogProps } from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core';\nimport Logo from '../../assets/img/restore-logo.png';\nimport BMULogo from '../../assets/img/bmu-logo.png';\n\ntype ResumeProps = {\n  open: boolean;\n  onClose: () => void;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    buttonDefault: {\n      backgroundColor: '#24806F',\n      color: '#ffffff',\n      '&:hover': {\n        backgroundColor: '#24806F',\n      },\n    },\n    imgContent: {\n      display: 'flex',\n      alignItems: 'center',\n      flexDirection: 'row',\n      margin: '12px 16px 8px 16px',\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column',\n        marginBottom: 16,\n      },\n    },\n    imgBMULogo: {\n      height: 120,\n      marginBottom: 0,\n      [theme.breakpoints.down('xs')]: {\n        marginBottom: 16,\n      },\n    },\n    imgLogo: {\n      marginLeft: 24,\n      [theme.breakpoints.down('xs')]: {\n        marginLeft: 0,\n        marginTop: 8,\n      },\n      height: 30,\n    },\n    contentDialogTitile: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      [theme.breakpoints.down('xs')]: {\n        justifyContent: 'center',\n        fontSize: '16px',\n        flexWrap: 'wrap',\n        textAlign: 'center',\n      },\n    },\n  }),\n);\n\nexport default function Resume({ open, onClose }: ResumeProps) {\n  const classes = useStyles();\n  const [scroll] = React.useState<DialogProps['scroll']>('paper');\n\n  const descriptionElementRef = React.useRef<HTMLElement>(null);\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n\n  return (\n    <div>\n      <Dialog\n        fullWidth={true}\n        maxWidth={'md'}\n        open={open}\n        onClose={onClose}\n        scroll={scroll}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle id=\"scroll-dialog-title\">\n          <div className={classes.contentDialogTitile}>\n            Future environmental and agricultural impacts of Brazils Forest\n            Code\n            <img src={Logo} className={classes.imgLogo} alt=\"Restore+ logo\" />\n          </div>\n        </DialogTitle>\n\n        <DialogContent dividers={scroll === 'paper'}>\n          <DialogContentText\n            id=\"scroll-dialog-description\"\n            ref={descriptionElementRef}\n            tabIndex={-1}\n            align={'justify'}\n            style={{ marginBottom: '0' }}\n          >\n            This application presents the main results of the article{' '}\n            <strong>\n              <a\n                href=\"https://iopscience.iop.org/article/10.1088/1748-9326/aaccbb\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {' '}\n                Soterroni et al. Future environmental and agricultural impacts\n                of Brazils Forest Code,Environmental Research Letters,13(7),\n                p.074021 (2018)\n              </a>\n            </strong>\n            . It shows two scenarios: FC and NoFC. FC is a command-and-control\n            scenario that attempts to capture the future impacts of all key\n            provisions of a rigorously enforced Brazils Forest Code. It\n            includes the full control of illegal deforestation after 2010, the\n            amnesty of LR debts for small farms (SFA) before 2010, the\n            environmental reserve quota mechanism after 2020, and the mandatory\n            restoration of LR debts after 2020. Legal deforestation or\n            conversion of LR surpluses is allowed at all times in all biomes,\n            with the exception of the Atlantic Forest, which is protected by\n            more restrictive legislation. The LR debts not waived by the SFA are\n            fully paid by the farm owner, either by purchasing CRA quotas from\n            the LR surpluses in the same biome or by taking illegally converted\n            areas out of agricultural production for native vegetation\n            restoration. The no forest code (NoFC) scenario allows both legal\n            and illegal deforestation at all times, which is driven by the\n            demand for agricultural commodities, and does not include any policy\n            restrictions.\n          </DialogContentText>\n\n          <div className={classes.imgContent}>\n            <img\n              src={BMULogo}\n              className={classes.imgBMULogo}\n              alt=\"Restore+ logo\"\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} className={classes.buttonDefault}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Chip, Tooltip } from '@material-ui/core';\n\nexport type SideChipProps = {\n  label: string;\n  active: boolean;\n  tooltip: string;\n  className: string;\n  backgroundColorOnActive: string;\n  onClick?: (props: SideChipProps) => void;\n};\n\nexport default function SideChip(props: SideChipProps) {\n  const [active, setActive] = React.useState(props.active);\n\n  const getStyle = (): any => {\n    const styleOn = {\n      backgroundColor: props.backgroundColorOnActive,\n      color: '#fff',\n      border: props.backgroundColorOnActive,\n    };\n\n    return props.active ? styleOn : {};\n  };\n\n  const internalHandleClick = () => {\n    let newActive = !active;\n    if (props.active === false && newActive === false) {\n      newActive = true;\n    }\n\n    setActive(newActive);\n\n    if (props.onClick) {\n      props!.onClick({ ...props, active: newActive });\n    }\n  };\n\n  return (\n    <Tooltip title={props.tooltip} arrow>\n      <Chip\n        label={props.label}\n        onClick={internalHandleClick}\n        variant=\"outlined\"\n        style={{\n          ...getStyle(),\n        }}\n        className={props.className}\n      />\n    </Tooltip>\n  );\n}\n","import React from 'react';\n\nimport { useDispatch, useTrackedState } from 'store';\nimport SideChip, { SideChipProps } from './SideChip';\nimport { View, ViewType } from 'containers/Types';\nimport { filter } from 'store/utils';\n\ntype SideChipListProps = {\n  viewType: ViewType;\n  className: string;\n  backgroundColorOnActive: string | { [name: string]: string };\n};\n\nexport default function SideChipList(props: SideChipListProps) {\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n\n  const getBackgroundColor = (name: string) => {\n    let backgroundColorOnActive = '';\n\n    if (typeof props.backgroundColorOnActive === 'string') {\n      backgroundColorOnActive = props.backgroundColorOnActive;\n    } else if (props.backgroundColorOnActive.hasOwnProperty(name)) {\n      backgroundColorOnActive = props.backgroundColorOnActive[name];\n    }\n\n    return backgroundColorOnActive;\n  };\n\n  const getChips = (): SideChipProps[] => {\n    return filter(state, props.viewType).map((view: View) => {\n      return {\n        label: view.name,\n        active: view.visible,\n        tooltip: view.description,\n        className: props.className,\n        backgroundColorOnActive: getBackgroundColor(view.name),\n      };\n    });\n  };\n\n  const handleClick = (data: SideChipProps) => {\n    dispatch({\n      type: 'TOGGLE_VIEW',\n      viewType: props.viewType,\n      name: data.label,\n      visible: data.active,\n    });\n  };\n\n  return (\n    <div>\n      {getChips().map((chip: SideChipProps) => (\n        <SideChip\n          key={chip.label}\n          label={chip.label}\n          active={chip.active}\n          tooltip={chip.tooltip}\n          className={chip.className}\n          backgroundColorOnActive={chip.backgroundColorOnActive}\n          onClick={handleClick}\n        />\n      ))}\n    </div>\n  );\n}\n","import React from 'react';\nimport { useDispatch, useTrackedState } from 'store';\n\nimport './style.scss';\n\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n  FormControlLabel,\n  Switch,\n  Typography,\n} from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { ViewType } from 'containers/Types';\nimport SideChipList from './SideChipList';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 275,\n      position: 'absolute',\n      zIndex: 1199,\n      // left: 56,\n      left: 0,\n      height: '100%',\n    },\n    cardContent: {\n      padding: '86px 16px',\n    },\n    main: {\n      width: '100%',\n    },\n    customAccordionSummary: {\n      padding: '0px 8px',\n    },\n    customAccordionDetails: {\n      flexWrap: 'wrap',\n      padding: 8,\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(16),\n      fontWeight: theme.typography.fontWeightMedium,\n    },\n    chipSpacing: {\n      margin: '2px 4px',\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n      marginLeft: '12px',\n    },\n  }),\n);\n\nexport default function SideContent() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const state = useTrackedState();\n\n  const [switchMapTooltip, setSwitchMapTooltip] = React.useState(\n    state.mapTooltipsEnabled,\n  );\n  const handleSwitchMapTooltip = () => {\n    const checked = !switchMapTooltip;\n    dispatch({\n      type: 'SET_MAP_TOOLTIP',\n      enabled: checked,\n    });\n\n    setSwitchMapTooltip(checked);\n  };\n\n  const getSwitchLabel = (): string => {\n    return switchMapTooltip ? 'Map tooltips enabled' : 'Map tooltips disabled';\n  };\n\n  return (\n    <Card className={classes.root}>\n      <CardContent className={classes.cardContent}>\n        <div className={classes.main}>\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel1a-content\"\n              id=\"panel1a-header\"\n            >\n              <Typography className={classes.heading}>Scenario</Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.SCENARIO}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={{ FC: '#008000', NoFC: '#EB4B35' }}\n              />\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel2a-content\"\n              id=\"panel2a-header\"\n            >\n              <Typography className={classes.heading}>Attribute</Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.ATTRIBUTE}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={'#757575'}\n              />\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel3a-content\"\n              id=\"panel3a-header\"\n            >\n              <Typography className={classes.heading}>Border</Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.BORDER}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={'#757575'}\n              />\n            </AccordionDetails>\n          </Accordion>\n\n          <Accordion defaultExpanded={true}>\n            <AccordionSummary\n              className={classes.customAccordionSummary}\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel3a-content\"\n              id=\"panel3a-header\"\n            >\n              <Typography className={classes.heading}>Background</Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.customAccordionDetails}>\n              <SideChipList\n                viewType={ViewType.BACKGROUND}\n                className={classes.chipSpacing}\n                backgroundColorOnActive={'#757575'}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </div>\n\n        <FormControlLabel\n          style={{ marginTop: 16 }}\n          control={\n            <Switch\n              checked={switchMapTooltip}\n              onChange={handleSwitchMapTooltip}\n              color=\"primary\"\n              size=\"small\"\n            />\n          }\n          label={getSwitchLabel()}\n        />\n      </CardContent>\n    </Card>\n  );\n}\n","import React from 'react';\n\nimport clsx from 'clsx';\nimport {\n  createStyles,\n  makeStyles,\n  Theme,\n  useTheme,\n} from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Button from '@material-ui/core/Button';\n\nimport Main from 'layouts/Main';\nimport SidebarList from './SidebarList';\nimport { Icon, Tooltip } from '@material-ui/core';\nimport Resume from 'components/Resume';\nimport SideContent from 'components/SideContent';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: 24,\n      '& > span': {\n        marginLeft: '-8px',\n      },\n      display: 'none',\n    },\n    hide: {\n      display: 'none',\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap',\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerClose: {\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      overflowX: 'hidden',\n      width: theme.spacing(7) + 1,\n      [theme.breakpoints.up('sm')]: {\n        width: theme.spacing(7) + 4,\n      },\n      display: 'none',\n    },\n    toolbar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n    },\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(0),\n    },\n    contentInfo: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'space-between',\n    },\n    contentInfoText: {\n      display: 'flex',\n      alignItems: 'center',\n    },\n    subtitle: {\n      marginLeft: '24px',\n      display: 'block',\n      [theme.breakpoints.down('sm')]: {\n        display: 'none',\n      },\n    },\n    download: {\n      marginTop: '-5px',\n    },\n    link: {\n      color: '#fff',\n      textDecoration: 'none',\n    },\n    icon: {\n      marginRight: 8,\n      position: 'relative',\n      top: '7px',\n    },\n  }),\n);\n\nexport default function Sidebar() {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const [resumeOpen, setResumeOpen] = React.useState(\n    process.env.NODE_ENV === 'production',\n  );\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleResumeOpen = () => {\n    setResumeOpen(true);\n  };\n\n  const handleResumeClose = () => {\n    setResumeOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            edge=\"start\"\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open,\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <div className={classes.contentInfo}>\n            <div className={classes.contentInfoText}>\n              <Typography variant=\"h6\">RESTORE+</Typography>\n              <Typography variant=\"subtitle1\" className={classes.subtitle}>\n                Future environmental and agricultural impacts of Brazils Forest\n                Code\n              </Typography>\n            </div>\n            <div>\n              <Tooltip title=\"Download data\" arrow>\n                <Button className={classes.download}>\n                  <a\n                    href=\"https://www.dropbox.com/s/aj1rwz3bu9td66n/restoreplus.zip?raw=1\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className={classes.link}\n                  >\n                    Download <Icon className={classes.icon}>download</Icon>\n                  </a>\n                </Button>\n              </Tooltip>\n              <Button onClick={handleResumeOpen} color=\"inherit\">\n                About <Icon style={{ marginLeft: 8 }}>info_outlined</Icon>\n              </Button>\n            </div>\n          </div>\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open,\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          }),\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === 'rtl' ? (\n              <ChevronRightIcon />\n            ) : (\n              <ChevronLeftIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n\n        <SidebarList />\n      </Drawer>\n\n      <SideContent></SideContent>\n\n      <Resume open={resumeOpen} onClose={handleResumeClose}></Resume>\n      <main className={classes.content}>\n        <Main />\n      </main>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { Provider } from 'store';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core';\nimport Sidebar from 'layouts/Sidebar';\n\nexport default function App() {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#212121',\n      },\n      secondary: {\n        main: '#FEBF0F',\n      },\n    },\n  });\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Provider>\n        <Sidebar />\n      </Provider>\n    </ThemeProvider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'styles/index.scss';\nimport * as serviceWorker from 'serviceWorker';\n\nimport App from 'layouts/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}